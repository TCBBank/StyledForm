<div *ngIf="!loaded">
  <button *ngIf="MerchURL && ShowReturnButton" color="primary" mat-raised-button
          name="backToMerch" style="margin: 15px;"
          title="Вернуться на сайт поставщика услуги">
    <sub class="material-icons">reply_all</sub>
    <span style="padding: 3px;">Вернуться</span>
  </button>
  <p class="title">Укажите сведения о пополняемой банковской карте</p>
  <div class="content">
    <div id="card">
      <div id="cardID">
        <span style="width: 100%; padding-left: 10px; margin-top: 5px; font-size: 10px;">Номер карты</span>
        <input autocapitalize="off" autocomplete="cc-number" autocorrect="off" autofocus id="cardIdInput"
               maxlength="23"
               name="ccnumber"
               onCopy="return false"
               onDrag="return false"
               onDrop="return false"
               pattern="[0-9]*"
               placeholder="**** **** **** ****" required title="Только цифры"
               type="text" value="">
      </div>
      <div id="toValid">
        <div id="validDate">
          <!--<span style="width: 100%; padding-left: 5px; font-size: 10px;">Срок действия</span>-->
          <!--<input id="dateMM" type="text" required maxlength="2" placeholder="ММ" (keyup)="validCard($event)" onCopy="return false"-->
          <!--onDrag="return false" onDrop="return false" onPaste="return false" value="" name="cc-exp-month" autocomplete="cc-exp-month"-->
          <!--autocorrect="off" autocapitalize="off" title="Месяц">-->
          <!--<input id="dateYY" type="text" required maxlength="2" placeholder="ГГ" (keyup)="validCard($event)" onCopy="return false"-->
          <!--onDrag="return false" onDrop="return false" onPaste="return false" value="" name="cc-exp-year" autocomplete="cc-exp-year"-->
          <!--autocorrect="off" autocapitalize="off" title="Год">-->
        </div>
        <div id="cardLogo">
          <img *ngIf="!visa && !master && !mir && !AmEx && !maestro" alt="default"
               id="defaultLogo" src="assets/images/defaultCard.jpg">
          <img *ngIf="visa" alt="VISA" disabled id="logo" src="assets/images/visa.png">
          <img *ngIf="master" alt="MASTER" id="logo" src="assets/images/mc.png">
          <img *ngIf="mir" alt="MIR" id="logo" src="assets/images/mir2.png">
          <img *ngIf="AmEx" alt="AMEX" id="logo" src="assets/images/amex.png">
          <img *ngIf="maestro" alt="MAESTRO" id="logo" src="assets/images/maestro.png">
        </div>
      </div>
      <div id="holder">
        <!--<span style="width: 100%; padding-left: 10px; margin-top: 5px; font-size: 10px;">Имя и фамилия владельца карты</span>-->
        <!--<input id="cardHolder" type="text" required maxlength="21" placeholder="CARD HOLDER" (keyup)="validCard($event)" onCopy="return false"-->
        <!--onDrag="return false" onDrop="return false" onPaste="return false" value="" name="nameoncard" autocomplete="cc-name"-->
        <!--autocorrect="off" autocapitalize="off" title="Только латинские символы">-->
      </div>
      <div id="cvc">
        <!--<span style="width: 100%; padding-left: 10px; margin-top: 5px; font-size: 10px;">Код проверки</span>-->
        <!--<input id="inputCvc" type="text" name="cardkey" required maxlength="3" placeholder="CVC" (keyup)="validCard($event)" (click)="validCard($event)"-->
        <!--onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false" value="" autocomplete="cc-csc"-->
        <!--autocorrect="off" autocapitalize="off" title="CVC/CVV код на оборотной стороне карты (последние три цифры)">-->
      </div>
    </div>

    <div id="order">
      <!-- <img height="59px" src="assets\images\visa_master_mir.png" alt=""> -->
      <p style="width: calc(100% - 20px); font-size: 20px; font-weight: bold; margin-top: 0px;">Информация о заказе:</p>
      <div *ngIf="order" class="desc">
        <div id='merchandName'>
          <span>Магазин: {{ this.order.merchantName }}</span>
        </div>
        <div id='orderId'>
          <span>Номер заказа: {{ this.order.orderId }} </span>
        </div>
        <div id='description'>
          <span>Описание заказа: {{ this.order.description }} </span>
        </div>
      </div>
    </div>
  </div>

  <div class="payment">

    <div class="amount">
      <div id="sum">
        <label for="text" style="padding-left: 10px; margin-top: 5px; font-size: 12px;">Сумма</label>
        <input autocapitalize="off" autocomplete="off" autocorrect="off"
               maxlength="5" id="text"
               name="amount" onCopy="return false" onDrag="return false" onDrop="return false" onPaste="return false"
               title="Сумма в рублях"
               type="text" value="">
      </div>

      <div id="simbols">
        <span matSuffix>₽</span>
      </div>

      <div id="comis">
        <label for="text" style="padding-left: 10px; margin-top: 5px; font-size: 12px;">Комиссия</label>
        <input disabled name="commiss" readonly tabindex="10" type="text" value="-">
      </div>

      <div id="comisSimbol">
        <span matSuffix>₽</span>
      </div>

      <div id="offert">
        <div id="info">
          <!--<span>Максимальная сумма без учета комиссии 80 000 рублей.</span>-->
        </div>
        <div *ngIf="offert">
          <mat-checkbox color="primary"></mat-checkbox>
          <span>Я ознакомлен и согласен с
            <a href="#">условиями</a> оказания платежных услуг</span>
        </div>
      </div>
    </div>

    <div class="submit">
      <button *ngIf="!onSubmit" color="primary" disabled mat-raised-button name="submit"
              title="Сначала заполните все поля"
              type="submit">Пополнить
      </button>
      <button *ngIf="onSubmit" color="primary" mat-raised-button name="submit" title="Выполнить операцию"
              type="submit">Пополнить
      </button>
    </div>
  </div>

  <div class="info">
    <mat-progress-bar mode="determinate" value="50"></mat-progress-bar>
    <p>* Эта информация недоступна посторонним лицам. Все данные передаются зашифрованными с использованием протокола
      SSL.
    </p>
    <p>Если Ваша карта подключена к услуге 3D-Secure, будет проведена процедура прохождения аутентификации.</p>
  </div>

</div>

<div *ngIf="loaded" class="loading">
  <div class="loader">
    <i class="blue"></i>
    <i class="green"></i>
    <i class="green"></i>
    <i class="orange"></i>
  </div>
</div>
